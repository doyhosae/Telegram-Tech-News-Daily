{
  "name": "Telegram-Tech-News-Daily",
  "nodes": [
    {
      "parameters": {
        "chatId": "@morning_tech_news",
        "text": "={{ $now.format('yyyy-MM-dd') }}\n{{ $json.text }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [1104, -64],
      "id": "d1bc5c29-c583-460c-87d6-c28b9c774074",
      "name": "Send a text message",
      "webhookId": "b6f8e489-d833-415a-b7c9-3084e2e8a395",
      "credentials": {
        "telegramApi": {
          "id": "OIVrPmDe17FMgVEy",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ $json.url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [-480, 96],
      "id": "2ba4d286-ad4c-4ad0-803f-08a3aba764bb",
      "name": "RSS Read"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "responses": {
          "values": [
            {
              "role": "system",
              "content": "You are an expert tech news curator.\n\nYou will receive a list of article titles and links.\nYour tasks are:\n\n1. Analyze ALL titles.\n2. Evaluate importance score for each title (1~10).\n3. Select the Top 5 most important articles.\n4. For each selected article:\n   - Keep the original title (English)\n   - Add a Korean-translated title (title_ko)\n   - Return the original link\n   - Include the importance score\n\nReturn ONLY this JSON:\n\n{\n  \"top5\": [\n    {\n      \"rank\": 1,\n      \"title\": \"Original English Title\",\n      \"title_ko\": \"í•œêµ­ì–´ ë²ˆì—­ ì œëª©\",\n      \"score\": 9.3,\n      \"content\": \"Goole Play's app of the yera...\"\n      \"link\": \"https://...\"\n    }\n  ]\n}\n\nImportant:\n- title_ko, contetëŠ” í•œê¸€ë¡œ ë²ˆì—­\n- JSON ì™¸ í…ìŠ¤íŠ¸ ì ˆëŒ€ í¬í•¨ ê¸ˆì§€"
            },
            {
              "content": "=ë‹¤ìŒì€ Tech Article ì œëª©ê³¼ ë§í¬ ëª©ë¡ì…ë‹ˆë‹¤.\n\nê° ì œëª©ì„ ì¤‘ìš”ë„ ê¸°ì¤€ìœ¼ë¡œ í‰ê°€í•˜ì—¬ ìƒìœ„ 5ê°œ ê¸°ì‚¬ë¥¼ ì„ ë³„í•˜ì—¬ JSON í˜•ì‹ì— ë§ê²Œ ë°˜í™˜í•˜ì„¸ìš”.\n\nì œëª© + ë§í¬ ëª©ë¡:\n{{ $json[\"titles_block\"] }}"
            }
          ]
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 2,
      "position": [256, -64],
      "id": "81e3306f-aaea-4cb1-9431-c511098b6687",
      "name": "Message a model",
      "credentials": {
        "openAiApi": {
          "id": "r4es3rkrNh9Q0cKS",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nlet finalList = '';\n\nitems.forEach((item, index) => {\n  const t = item.json.title || '';\n  const l = item.json.link || '';\n  const c = item.json.contentSnippet || '';\n\n  finalList += `${index + 1}. ${t}\\n`;\n  finalList += `link: ${l}\\n\\n`;\n  finalList += `link: ${c}\\n\\n`;\n});\n\nreturn [\n  {\n    json: { titles_block: finalList }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [32, -64],
      "id": "02922e59-b2af-4a24-aa39-5158a2a7522c",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [-912, 96],
      "id": "36f09bd8-8167-4094-8b13-a3f547998165",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "48c45c72-2b8b-4384-aa24-716bd84aa3d2",
              "leftValue": "={{ new Date($json[\"pubDate\"]).getTime() }}",
              "rightValue": "={{ new Date().getTime() - 86400000 }}",
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            },
            {
              "id": "7030947a-43cb-4362-ad0f-36ffdb9271c1",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [-272, 96],
      "id": "3d0dd042-c962-4474-ade0-0defdfb1601e",
      "name": "If(ì§€ê¸ˆìœ¼ë¡œë¶€í„° 24ì‹œê°„ ì „)"
    },
    {
      "parameters": {
        "jsCode": "const top5 = $input.first().json.top5;\n\n// í—¤ë”: êµµê²Œ ê°•ì¡°í•˜ê³  ì´ëª¨ì§€ë¡œ ì‹œì„  ì§‘ì¤‘\nlet msg = \"ğŸ“¡ *ì˜¤ëŠ˜ì˜ Tech ë‰´ìŠ¤ Top 5* ğŸš€\\n\\n\"; \n\ntop5.forEach(item => {\n  // 1. ì œëª© (í•œê¸€ ì œëª©ì€ êµµê²Œ, ì˜ì–´ ì œëª©ì€ ê¸°ìš¸ì„ê¼´ë¡œ êµ¬ë¶„)\n  msg += `*${item.rank}. ${item.title_ko}*\\n`;\n  msg += `_(${item.title})_\\n\\n`;\n\n  // 2. ì ìˆ˜ (ì„ íƒì‚¬í•­, ê¹”ë”í•˜ê²Œ í•œ ì¤„ ì²˜ë¦¬)\n  msg += `ğŸ’¡ ì¤‘ìš”ë„: ${item.score} / 10\\n\\n`;\n\n  // 3. ìš”ì•½ (ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„: 'ìš”ì•½:' ê¸€ìì™€ ë³¸ë¬¸ ì‚¬ì´ì— ì¤„ë°”ê¿ˆ ì¶”ê°€)\n  msg += `ğŸ“ *3ì¤„ ìš”ì•½*\\n`;\n  // ìš”ì•½ë¬¸ì´ ì—†ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•œ ì•ˆì „ì¥ì¹˜\n  const content = item.content ? item.content.trim() : \"ìš”ì•½ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\";\n  msg += `${content}\\n\\n`; \n\n  // 4. ë§í¬ (ê¸´ URL ëŒ€ì‹  í…ìŠ¤íŠ¸ ë§í¬ë¡œ ì²˜ë¦¬)\n  // Telegram Markdown í¬ë§·: [í…ìŠ¤íŠ¸](URL)\n  msg += `ğŸ”— [ì›ë¬¸ ê¸°ì‚¬ ë³´ëŸ¬ê°€ê¸°](${item.link})\\n`;\n\n  // 5. êµ¬ë¶„ì„  (ê¸°ì‚¬ ê°„ ëª…í™•í•œ ë¶„ë¦¬)\n  msg += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”\\n\\n`;\n});\n\nreturn [\n  { json: { text: msg } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [864, -64],
      "id": "d8d05b2c-c345-4f7f-b565-543c06a00e4a",
      "name": "ë¬¸ì¥ ë‹¤ë“¬ê¸°"
    },
    {
      "parameters": {
        "jsCode": "// AI ë° ì•± ê´€ë ¨ ì•Œì§œë°°ê¸° í”¼ë“œë§Œ ëª¨ì•˜ìŠµë‹ˆë‹¤\nconst feeds = [\n  // \"https://techcrunch.com/category/artificial-intelligence/feed/\", // TechCrunch AI\n  \"https://techcrunch.com/category/apps/feed/\",                    // TechCrunch Apps\n  // \"https://www.technologyreview.com/topic/artificial-intelligence/feed\" // MIT AI\n];\n\n// n8nì´ ì´í•´í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€í™˜\nreturn feeds.map(url => {\n  return {\n    json: {\n      url: url\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [-688, 96],
      "id": "5eed020c-b9c0-473b-9e0b-4fa9cd051bb6",
      "name": "feed url ë°°ì—´"
    },
    {
      "parameters": {
        "jsCode": "// GPT ê²°ê³¼ ë¬¸ìì—´ ê°€ì ¸ì˜¤ê¸°\nconst raw = $input.first().json.output[0].content[0].text;\n\n// ë¬¸ìì—´ â†’ JSON ê°ì²´ë¡œ ë³€í™˜\nlet parsed;\ntry {\n  parsed = JSON.parse(raw);\n} catch (e) {\n  throw new Error(\"JSON íŒŒì‹± ì‹¤íŒ¨: \" + e.message);\n}\n\n// ì´ì œ parsed.top5 ì‚¬ìš© ê°€ëŠ¥\nreturn [\n  {\n    json: parsed\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [608, -64],
      "id": "ec4e7bab-a4fa-4939-9b74-cb584706cd2c",
      "name": "ë¬¸ìì—´ â†’ JSON"
    }
  ],
  "pinData": {},
  "connections": {
    "RSS Read": {
      "main": [
        [
          {
            "node": "If(ì§€ê¸ˆìœ¼ë¡œë¶€í„° 24ì‹œê°„ ì „)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "ë¬¸ìì—´ â†’ JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Message a model",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "feed url ë°°ì—´",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If(ì§€ê¸ˆìœ¼ë¡œë¶€í„° 24ì‹œê°„ ì „)": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë¬¸ì¥ ë‹¤ë“¬ê¸°": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "feed url ë°°ì—´": {
      "main": [
        [
          {
            "node": "RSS Read",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë¬¸ìì—´ â†’ JSON": {
      "main": [
        [
          {
            "node": "ë¬¸ì¥ ë‹¤ë“¬ê¸°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "timezone": "Asia/Seoul",
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": -1,
    "availableInMCP": false
  },
  "versionId": "c3d4c23c-a092-4df5-948f-8f042be79076",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "db379bb0c9c7c0967d9b3fdb2d660cf36202c28e1428da279eef6f519d6a7ab0"
  },
  "id": "1SlWLjJFhUJuQUfG",
  "tags": []
}
